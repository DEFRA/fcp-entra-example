{% extends "govuk/template.njk" %}

{% block head %}
<link rel="stylesheet" href="/assets/govuk-frontend.min.css">
<link rel="stylesheet" href="/assets/site.css">
{% endblock %}

{% block header %}
  {{ govukHeader({
    homepageUrl: "https://www.gov.uk/",
    containerClasses: "govuk-width-container",
    serviceName: "Your Entra account",
    serviceUrl: "/"
  }) }}
{% endblock %}

{% block bodyStart %}
{% endblock %}

{% block pageTitle %}
  {{ pageTitle }}
{% endblock %}

{% block beforeContent %}
  {% if auth.isAuthenticated %}
    <div class="gov-grid-row">
      <div class="auth-info">
        <p class="govuk-body govuk-!-margin-bottom-0">Signed in as <a href="/home" class="govuk-link">{{ auth.name }}</a></p>
        <p class="govuk-body govuk-!-margin-bottom-0"><a href="/auth/sign-out" class="govuk-link">Sign out</a></p>
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block content %}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  <script type="module" src="/assets/govuk-frontend.min.js" nonce="{{ nonce }}"></script>
  <script type="module" nonce="{{ nonce }}">
    import { initAll } from '/assets/govuk-frontend.min.js'
    initAll()
  </script>
{% endblock %}
